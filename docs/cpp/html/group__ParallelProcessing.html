<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Nifty: Functions and classes for parallel processing.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nifty
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions and classes for parallel processing.</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnifty_1_1parallel_1_1ParallelOptions.html">nifty::parallel::ParallelOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Option base class for parallel algorithms.  <a href="classnifty_1_1parallel_1_1ParallelOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnifty_1_1parallel_1_1ThreadPool.html">nifty::parallel::ThreadPool</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread pool class to manage a set of parallel workers.  <a href="classnifty_1_1parallel_1_1ThreadPool.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7604490d8cf7a5b53de4477c866c8b86"><td class="memTemplParams" colspan="2">template&lt;class ITER , class F &gt; </td></tr>
<tr class="memitem:ga7604490d8cf7a5b53de4477c866c8b86"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga7604490d8cf7a5b53de4477c866c8b86">nifty::parallel::parallel_foreach_impl</a> (ThreadPool &amp;pool, const std::ptrdiff_t nItems, ITER iter, ITER end, F &amp;&amp;f, std::random_access_iterator_tag)</td></tr>
<tr class="separator:ga7604490d8cf7a5b53de4477c866c8b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab81648beb53aff67df1822f993b49ad1"><td class="memTemplParams" colspan="2">template&lt;class ITER , class F &gt; </td></tr>
<tr class="memitem:gab81648beb53aff67df1822f993b49ad1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#gab81648beb53aff67df1822f993b49ad1">nifty::parallel::parallel_foreach_impl</a> (ThreadPool &amp;pool, const std::ptrdiff_t nItems, ITER iter, ITER end, F &amp;&amp;f, std::forward_iterator_tag)</td></tr>
<tr class="separator:gab81648beb53aff67df1822f993b49ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga402d9e45f8edf065e6775e76a447f72e"><td class="memTemplParams" colspan="2">template&lt;class ITER , class F &gt; </td></tr>
<tr class="memitem:ga402d9e45f8edf065e6775e76a447f72e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga402d9e45f8edf065e6775e76a447f72e">nifty::parallel::parallel_foreach_impl</a> (ThreadPool &amp;pool, const std::ptrdiff_t nItems, ITER iter, ITER end, F &amp;&amp;f, std::input_iterator_tag)</td></tr>
<tr class="separator:ga402d9e45f8edf065e6775e76a447f72e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53b7128ccb1cf52e5646440337ce4ece"><td class="memTemplParams" colspan="2">template&lt;class ITER , class F &gt; </td></tr>
<tr class="memitem:ga53b7128ccb1cf52e5646440337ce4ece"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga53b7128ccb1cf52e5646440337ce4ece">nifty::parallel::parallel_foreach_single_thread</a> (ITER begin, ITER end, F &amp;&amp;f, const std::ptrdiff_t nItems=0)</td></tr>
<tr class="separator:ga53b7128ccb1cf52e5646440337ce4ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga505ac3d12ecde87341bce7b6f1027c88"><td class="memTemplParams" colspan="2">template&lt;class ITER , class F &gt; </td></tr>
<tr class="memitem:ga505ac3d12ecde87341bce7b6f1027c88"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga505ac3d12ecde87341bce7b6f1027c88">nifty::parallel::parallel_foreach</a> (ThreadPool &amp;pool, ITER begin, ITER end, F &amp;&amp;f, const std::ptrdiff_t nItems=0)</td></tr>
<tr class="memdesc:ga505ac3d12ecde87341bce7b6f1027c88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply a functor to all items in a range in parallel.  <a href="group__ParallelProcessing.html#ga505ac3d12ecde87341bce7b6f1027c88">More...</a><br /></td></tr>
<tr class="separator:ga505ac3d12ecde87341bce7b6f1027c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae081bc77f03a070b9fe0f97966949f58"><td class="memTemplParams" colspan="2">template&lt;class ITER , class F &gt; </td></tr>
<tr class="memitem:gae081bc77f03a070b9fe0f97966949f58"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#gae081bc77f03a070b9fe0f97966949f58">nifty::parallel::parallel_foreach</a> (int64_t nThreads, ITER begin, ITER end, F &amp;&amp;f, const std::ptrdiff_t nItems=0)</td></tr>
<tr class="separator:gae081bc77f03a070b9fe0f97966949f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga900cd2b90fda714e21082d5ba897f240"><td class="memTemplParams" colspan="2">template&lt;class F &gt; </td></tr>
<tr class="memitem:ga900cd2b90fda714e21082d5ba897f240"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga900cd2b90fda714e21082d5ba897f240">nifty::parallel::parallel_foreach</a> (int64_t nThreads, std::ptrdiff_t nItems, F &amp;&amp;f)</td></tr>
<tr class="separator:ga900cd2b90fda714e21082d5ba897f240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf78ef995aaa44624da018033fd03beeb"><td class="memTemplParams" colspan="2">template&lt;class F &gt; </td></tr>
<tr class="memitem:gaf78ef995aaa44624da018033fd03beeb"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#gaf78ef995aaa44624da018033fd03beeb">nifty::parallel::parallel_foreach</a> (ThreadPool &amp;threadpool, std::ptrdiff_t nItems, F &amp;&amp;f)</td></tr>
<tr class="separator:gaf78ef995aaa44624da018033fd03beeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77c519ec32559623c64d61f532c570b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga77c519ec32559623c64d61f532c570b8">nifty::parallel::ThreadPool::~ThreadPool</a> ()</td></tr>
<tr class="separator:ga77c519ec32559623c64d61f532c570b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ffeb64ca8f60c37ad2db97bf80b05af"><td class="memTemplParams" colspan="2">template&lt;class F &gt; </td></tr>
<tr class="memitem:ga5ffeb64ca8f60c37ad2db97bf80b05af"><td class="memTemplItemLeft" align="right" valign="top">std::future&lt; typename std::result_of&lt; F(int)&gt;::type &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga5ffeb64ca8f60c37ad2db97bf80b05af">nifty::parallel::ThreadPool::enqueueReturning</a> (F &amp;&amp;f)</td></tr>
<tr class="separator:ga5ffeb64ca8f60c37ad2db97bf80b05af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga030f79847ecd6a609877dd5f997ac875"><td class="memTemplParams" colspan="2">template&lt;class F &gt; </td></tr>
<tr class="memitem:ga030f79847ecd6a609877dd5f997ac875"><td class="memTemplItemLeft" align="right" valign="top">std::future&lt; void &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ParallelProcessing.html#ga030f79847ecd6a609877dd5f997ac875">nifty::parallel::ThreadPool::enqueue</a> (F &amp;&amp;f)</td></tr>
<tr class="separator:ga030f79847ecd6a609877dd5f997ac875"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga030f79847ecd6a609877dd5f997ac875"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; void &gt; nifty::parallel::ThreadPool::enqueue </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue function for tasks without return value. This is a special case of the enqueueReturning template function, but some compilers fail on <code>std::result_of&lt;F(int)&gt;::type</code> for void(int) functions. </p>

</div>
</div>
<a class="anchor" id="ga5ffeb64ca8f60c37ad2db97bf80b05af"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; typename std::result_of&lt; F(int)&gt;::type &gt; nifty::parallel::ThreadPool::enqueueReturning </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue a task that will be executed by the thread pool. The task result can be obtained using the get() function of the returned future. If the task throws an exception, it will be raised on the call to get(). </p>

</div>
</div>
<a class="anchor" id="ga505ac3d12ecde87341bce7b6f1027c88"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITER , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nifty::parallel::parallel_foreach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnifty_1_1parallel_1_1ThreadPool.html">ThreadPool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::ptrdiff_t&#160;</td>
          <td class="paramname"><em>nItems</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply a functor to all items in a range in parallel. </p>
<p>Create a thread pool (or use an existing one) to apply the functor </p><ul>
<li>f to all items in the range <code>[begin, end)</code> in parallel. </li>
<li>f must be callable with two arguments of type <code>size_t</code> and <code>T</code>, where the first argument is the thread index (starting at 0) and T is convertible from the iterator's <code>reference_type</code> (i.e. the result of <code>*begin</code>).</li>
</ul>
<p>If the iterators are forward iterators (<code>std::forward_iterator_tag</code>), you can provide the optional argument <code>nItems</code> to avoid the a <code>std::distance(begin, end)</code> call to compute the range's length.</p>
<p>Parameter <code>nThreads</code> controls the number of threads. <code>parallel_foreach</code> will split the work into about three times as many parallel tasks. If <code>nThreads = <a class="el" href="classnifty_1_1parallel_1_1ParallelOptions.html#a7a945e8bd698883de4af0f906b2aa88aa0bd8f9fd00d78fcfdcb6ee1575f43fd6" title="Determine number of threads automatically (from std::thread::hardware_concurrency()) ...">ParallelOptions::Auto</a></code>, the number of threads is set to the machine default (<code>std::thread::hardware_concurrency()</code>).</p>
<p>If <code>nThreads = 0</code>, the function will not use threads, but will call the functor sequentially. This can also be enforced by setting the preprocessor flag <code>NIFTY_NO_PARALLELISM</code>, ignoring the value of <code>nThreads</code> (useful for debugging).</p>
<p><b> Declarations:</b></p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="namespacenifty.html">nifty</a> {</div>
<div class="line"><span class="keyword">namespace </span>parallel{</div>
<div class="line">    <span class="comment">// pass the desired number of threads or ParallelOptions::Auto</span></div>
<div class="line">    <span class="comment">// (creates an internal thread pool accordingly)</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> ITER, <span class="keyword">class</span> F&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__ParallelProcessing.html#ga505ac3d12ecde87341bce7b6f1027c88">parallel_foreach</a>(int64_t nThreads,</div>
<div class="line">                          ITER begin, ITER end,</div>
<div class="line">                          F &amp;&amp; f,</div>
<div class="line">                          <span class="keyword">const</span> uint64_t nItems = 0);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// use an existing thread pool</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> ITER, <span class="keyword">class</span> F&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__ParallelProcessing.html#ga505ac3d12ecde87341bce7b6f1027c88">parallel_foreach</a>(ThreadPool &amp; pool,</div>
<div class="line">                          ITER begin, ITER end,</div>
<div class="line">                          F &amp;&amp; f,</div>
<div class="line">                          <span class="keyword">const</span> uint64_t nItems = 0);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// pass the integers from 0 ... (nItems-1) to the functor f,</span></div>
<div class="line">    <span class="comment">// using the given number of threads or ParallelOptions::Auto</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> F&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__ParallelProcessing.html#ga505ac3d12ecde87341bce7b6f1027c88">parallel_foreach</a>(int64_t nThreads,</div>
<div class="line">                          uint64_t nItems,</div>
<div class="line">                          F &amp;&amp; f);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// likewise with an existing thread pool</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> F&gt;</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="group__ParallelProcessing.html#ga505ac3d12ecde87341bce7b6f1027c88">parallel_foreach</a>(ThreadPool &amp; threadpool,</div>
<div class="line">                          uint64_t nItems,</div>
<div class="line">                          F &amp;&amp; f);</div>
<div class="line">}</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Usage:</b></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="threadpool_8hxx.html">nifty/parallel/threadpool.hxx</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacenifty_1_1parallel.html">nifty::parallel</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> <span class="keyword">const</span> n_threads = 4;</div>
<div class="line">    <span class="keywordtype">size_t</span> <span class="keyword">const</span> n = 2000;</div>
<div class="line">    vector&lt;int&gt; input(n);</div>
<div class="line"></div>
<div class="line">    <span class="keyword">auto</span> iter = input.begin(),</div>
<div class="line">         end  = input.end();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// fill input with 0, 1, 2, ...</span></div>
<div class="line">    iota(iter, end, 0);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute the sum of the elements in the input vector.</span></div>
<div class="line">    <span class="comment">// (each thread computes the partial sum of the items it sees</span></div>
<div class="line">    <span class="comment">//  and stores the sum at the appropriate index of &#39;results&#39;)</span></div>
<div class="line">    vector&lt;int&gt; results(n_threads, 0);</div>
<div class="line">    <a class="code" href="group__ParallelProcessing.html#ga505ac3d12ecde87341bce7b6f1027c88">parallel_foreach</a>(n_threads, iter, end,</div>
<div class="line">        <span class="comment">// the functor to be executed, defined as a lambda function</span></div>
<div class="line">        <span class="comment">// (first argument: thread ID, second argument: result of *iter)</span></div>
<div class="line">        [&amp;results](<span class="keywordtype">size_t</span> thread_id, <span class="keywordtype">int</span> items)</div>
<div class="line">        {</div>
<div class="line">            results[thread_id] += items;</div>
<div class="line">        }</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    <span class="comment">// collect the partial sums of all threads</span></div>
<div class="line">    <span class="keywordtype">int</span> sum = accumulate(results.begin(), results.end(), 0);</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;The sum &quot;</span> &lt;&lt; sum &lt;&lt; <span class="stringliteral">&quot; should be equal to &quot;</span> &lt;&lt; (n*(n-1))/2 &lt;&lt; endl;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gae081bc77f03a070b9fe0f97966949f58"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITER , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nifty::parallel::parallel_foreach </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::ptrdiff_t&#160;</td>
          <td class="paramname"><em>nItems</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga900cd2b90fda714e21082d5ba897f240"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nifty::parallel::parallel_foreach </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ptrdiff_t&#160;</td>
          <td class="paramname"><em>nItems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaf78ef995aaa44624da018033fd03beeb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nifty::parallel::parallel_foreach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnifty_1_1parallel_1_1ThreadPool.html">ThreadPool</a> &amp;&#160;</td>
          <td class="paramname"><em>threadpool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ptrdiff_t&#160;</td>
          <td class="paramname"><em>nItems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga7604490d8cf7a5b53de4477c866c8b86"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITER , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nifty::parallel::parallel_foreach_impl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnifty_1_1parallel_1_1ThreadPool.html">ThreadPool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::ptrdiff_t&#160;</td>
          <td class="paramname"><em>nItems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::random_access_iterator_tag&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gab81648beb53aff67df1822f993b49ad1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITER , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nifty::parallel::parallel_foreach_impl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnifty_1_1parallel_1_1ThreadPool.html">ThreadPool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::ptrdiff_t&#160;</td>
          <td class="paramname"><em>nItems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::forward_iterator_tag&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga402d9e45f8edf065e6775e76a447f72e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITER , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nifty::parallel::parallel_foreach_impl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnifty_1_1parallel_1_1ThreadPool.html">ThreadPool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::ptrdiff_t&#160;</td>
          <td class="paramname"><em>nItems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::input_iterator_tag&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga53b7128ccb1cf52e5646440337ce4ece"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ITER , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nifty::parallel::parallel_foreach_single_thread </td>
          <td>(</td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITER&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::ptrdiff_t&#160;</td>
          <td class="paramname"><em>nItems</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga77c519ec32559623c64d61f532c570b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nifty::parallel::ThreadPool::~ThreadPool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The destructor joins all threads. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
